<html>

    <head>

        <title>PANIC Engine</title>

		<meta charset="UTF-8">

        <style>

            body {

                width: 100%;
                height: 100%;

                margin: 0;

				overflow: hidden;

            }

			#PANIC {

				width: 100%;
				height: 100%;

			}

			#PANIC-Rendering {

				width: 100%;
				height: 100%;

			}

        </style>

    </head>

    <body>

        <!-- THREEjs Scripts -->
        <!-- <script src="./src/lib/three131.js"></script> -->
		<!-- <script src="./src/lib/OrbitControls.js"></script> -->
		<!-- <script src="./src/lib/MergeBufferGeometries.js"></script> -->

        <script type="module">

			import * as PANIC from "./src/panic.js";

			async function run() {

				PANIC.Debug.enable();

				PANIC.Debug.Access.enable();

				try {

					await PANIC.Loaders.Entity.load( "./presets/entities/minecraft/minecraft.json" );
					await PANIC.Loaders.Entity.load( "./presets/entities/minecraft/slim.json" );

					await PANIC.Loaders.Entity.load( "./presets/entities/player/player.json" );

					await PANIC.Loaders.Entity.load( "./presets/entities/debug/debug.json" );

					console.log( PANIC.EntityRegistry.spawnEntity( "player" ) );

					PANIC.Debug.Grid.toggle();
					PANIC.Debug.Grid.scale = 16;
					PANIC.Debug.Grid.subdivisions = 16;
					PANIC.Debug.Grid.color = 0x888888;

					PANIC.Debug.Axes.toggle();

					PANIC.Debug.Compass.toggle();

					let Loop = function( time=0 ) {

					    PANIC.Updater.update();

					    PANIC.Renderer.render( PANIC.Scene, PANIC.Camera );

					    requestAnimationFrame( Loop );

					}

					requestAnimationFrame( Loop );

				}

				catch( error ) {

					PANIC.Debug.error( error );

				}

			}

			run();

        </script>

    </body>

</html>
